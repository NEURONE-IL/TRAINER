<form>
  <div *ngFor="let my_quiz of quiz">
    <ng-template [ngIf]="my_quiz.QUIZ_ID == quizNumber">
      <ng-template [ngIf]="exerciseActual == 0">
        <h6>Instrucciones quiz: {{my_quiz.INSTRUCTIONS}}</h6>
        <p>Resource quiz: {{my_quiz.RESOURCE}}</p>
        <button (click)="increaseExercise(false)">Go!</button>
      </ng-template>
      <div *ngFor="let exercise of my_quiz.EXERCISES; let last_exercise = last; let first_exercise = first;">
        <ng-template [ngIf]="exercise.EXERCISE_ID == exerciseActual">
          <h6>Ejercicio {{exercise.EXERCISE_ID}}: {{exercise.INTRODUCTION}}</h6>

          <div class="quiz_questions" *ngFor="let question of exercise.QUESTIONS">
            <ng-template [ngIf]="question.QUESTION_TYPE == 1">
              <mat-card class="question-card">
                <!--<form>-->
                <h6>Pregunta {{question.QUESTION_NUM}}</h6>
                <p>Recurso: {{question.RESOURCE}}</p>
                <p>{{question.QUESTION}}</p>
                <textarea class="textarea-question" name="answer-textarea"></textarea>
                <div class="bonus-class" *ngIf="question.BONUS">
                  <p>{{question.BONUS}}</p>
                  <input class="input-text" type="text" name="answer-bonus">
                </div>
                <!--</form>-->
              </mat-card>
            </ng-template>
            <ng-template [ngIf]="question.QUESTION_TYPE == 2">
              <mat-card class="question-card">
                <!--<form>-->
                <h6>Pregunta {{question.QUESTION_NUM}}</h6>
                <p>Recurso: {{question.RESOURCE}}</p>
                <p>{{question.QUESTION}}</p>
                <div class="alternatives-class" *ngFor="let alternative of question.ALTERNATIVES">
                  <input type="radio" id="alternatives{{question.QUESTION_ID}}" name="answer{{question.QUESTION_ID}}">
                  <label for="alternatives{{question.QUESTION_ID}}">&nbsp;{{alternative}}</label><br>
                </div>
                <div class="bonus-class" *ngIf="question.BONUS">
                  <p>{{question.BONUS}}</p>
                  <input class="input-text" type="text" name="answer_bonus{{question.QUESTION_ID}}">
                </div>

                <!--</form>-->
              </mat-card>
            </ng-template>
            <ng-template [ngIf]="question.QUESTION_TYPE == 3">
              <mat-card class="question-card">
                <!--<form>-->
                <h6>Pregunta {{question.QUESTION_NUM}}</h6>
                <p>Recurso: {{question.RESOURCE}}</p>
                <p>{{question.QUESTION}}</p>
                <div class="alternatives-class" *ngFor="let alternative of question.ALTERNATIVES">
                  <input type="checkbox" id="alternative" name="fav_language">
                  <label for="alternative">&nbsp;{{alternative}}</label><br>
                </div>
                <div class="bonus-class" *ngIf="question.BONUS">
                  <p>{{question.BONUS}}</p>
                  <input class="input-text" type="text">
                </div>

                <!--</form>-->
              </mat-card>
            </ng-template>
          </div>


          <div class="quiz_buttons">
            <button (click)="saveExercise()">Guardar</button>
            <ng-template [ngIf]="first_exercise">
              <button (click)="decreaseExercise(first_exercise)" disabled>Atras</button>
            </ng-template>
            <ng-template [ngIf]="!first_exercise">
              <button (click)="decreaseExercise(first_exercise)">Atras</button>
            </ng-template>
            <ng-template [ngIf]="last_exercise">
              <button (click)="increaseExercise(last_exercise)" disabled>Siguiente</button>
            </ng-template>
            <ng-template [ngIf]="!last_exercise">
              <button (click)="increaseExercise(last_exercise)">Siguiente</button>
            </ng-template>
            <button (click)="editExercise()">Editar</button>
          </div>
          <div class="quiz_buttons">
            <button class="quiz_buttons" (click)="sendQuiz()">Enviar Formulario</button>
          </div>

        </ng-template>
      </div>

    </ng-template>
  </div>


  <!--<button (click)="sendQuizResponse('Atras')">Atras</button>
  <button (click)="sendQuizResponse('Enviar')">Enviar</button>
  <input type="submit" value="Enviar Cuestionario">-->
</form>

